<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>pigLatin Algorithm</title>
  <style>
    input {
      font-size: 2em;
      margin: 10px 1px 0;
    }
  </style>
</head>
<body>
<script>
  const vowels = ["a", "e", "i", "o", "u"];
  const consonants = ["b", "c", "d", "f", "g", "h", "j", "k", "l", "m", "n", "p", "q", "r", "s", "t", "v", "w", "x", "y", "z"];
  let originalWordsArray = [];

  let translate = originalWords => {
    let arrayWords = originalWords.split("");
    originalWordsArray = originalWords.split(""); //global variable
    console.log(arrayWords);
    let vowelStartArray = [];
    let vowelContinueArray = [];
    let consonantStartArray = [];
    let consonantContinueArray = [];
    beginningWords(arrayWords);
    return arrayWords;
  }
// Function find indexes for the start of each new word; 0 is automatically included
  // let beginningWords = wordArray => {
  //   let counter = 0;
  //   wordArray.forEach(function(character, index) {
  //   let startWordArray = [0];
  //   let locateWordsObj = {
  //     start:[]
  //   };
  //     if (wordArray[index] == " ") {
  //       console.log('beginningWords: true; ' + ' index: ' + (index + 1));
  //       startWordArray.push(index + 1); //add 1 to index to push first character after blank space
  //       locateWordsObj['start'][counter] = index + 1;
  //       console.log('counter index: ' + counter);
  //       console.log(startWordArray);
  //       console.log("locateWordsObj value: " + locateWordsObj.start[counter++]);
  //       return makeWord(startWordArray);
  //     } else {
  //       return undefined;
  //     }
  //   })
  // }

// Function read words and reorganize new string
  let beginningWords = wordArray => {
    console.log("beginningWords function called!");
    let counter = 0;
    wordArray.forEach(function(character, index) {
      console.log(index)  ;
      let startWordArray = [0];
      let locateWordsObj = {
        start:[]
      };
      if (index == 0) {
        console.log("index == 0");
        if (vowels.includes(wordArray[0])) {
          let endIndex = endOfWord(index); // function returns index for end of a word
          console.log("endIndex value " + endIndex);
          wordArray[endIndex].push("ay");
          console.log(wordArray);
        } else if (consonants.includes(wordArray[0])) {
          endOfWord(index);  // function returns index for end of a word
      } else if (index > 0) {

      }
    }
  })
}
// Function find index for end of a word
  let endOfWord = startOfWord => {
    originalWordsArray.forEach(function(character, index) {
      if (index > startOfWord &&
          originalWordsArray[index] == " ") {
            return (index - 1)// save the index position of the last character of a single word
    } else {
        return (originalWordsArray.length - 1); // save the index position of the last character of a single word
    }
    })
  }

  //     if (wordArray[index] == " ") {
  //       console.log('beginningWords: true; ' + ' index: ' + (index + 1));
  //       startWordArray.push(index + 1); //add 1 to index to push first character after blank space
  //       locateWordsObj['start'][counter] = index + 1;
  //       console.log('counter index: ' + counter);
  //       console.log(startWordArray);
  //       console.log("locateWordsObj value: " + locateWordsObj.start[counter++]);
  //       return makeWord(startWordArray);
  //     } else {
  //       return undefined;
  //     }
  //   })
  // }

  // Function determine the indexes for the start of each new word
  // let newWordBegins = arrayWords.map(checkChar => beginningWords(arrayWords.indexOf(checkChar))); // implict return of array with the indexes for the start of each new word
    let makeWord = startOfWordsArray => {
      startOfWordsArray.forEach(function(indices) {
        console.log('makeword function called: ' + indices);
        if (vowels.includes(originalWordsArray[indices])) {
          console.log('starts with vowel: ' + originalWordsArray[indices]);
          console.log(indices);

        } else if (consonants.includes(originalWordsArray[indices])) {
          console.log('starts with consonant: ' + originalWordsArray[indices]);
          //console.log(indices);
        }
      //    return beginningWords(index);
      //    start[counter] == 0 ? consonantStartArray.push(arrayWords[counter]) : consonantContinueArray.push(arrayWords[counter]);
      })
    }

/*
  let testWord = (char, prevIndex) => {
    let myArray = [];
//    console.log('prevIndex = ' + prevIndex);
//    myArray[prevIndex] = char;
    myArray[prevIndex] = char;
//    console.log('myArray from testWord == ' + myArray[prevIndex]);
  }
*/


/*
// Find index of subClass array within newWordBegins array; holds the indexes for the start of each new word
    const findSubClass = newWordBegins.findIndex(subClass => {
      console.log(typeof subClass);
      if (typeof subClass === 'object') {
        return subClass.indexOf();
      }
    })
*/

// run pigLatin rules for the predetermined words based on saved indexes
let runRules = index => {
  if (makeWord() != undefined) {
    let pigLatinRules = makeWord.forEach((start) => {
      if (start != undefined) {
        for (counter = 0; arrayWords[counter] != " "; counter++) { // proceeding loop will run once for each array item in start
          if (consonants.includes(arrayWords[counter])) {
          //      consonantStartArray.push(index == 0 ? char : "x");
        } else if (vowels.includes(arrayWords[counter])) {
          vowelStartArray.push(arrayWords[counter]);
        }//determine character and save the array index to local variable
      }
    }
  })
  } else {
    console.log(makeWord);
  }}

// begin process of creating a new array based on pigLatin rules

//  let tempArray = arrayWords.map(searchIndex => charSearch(searchIndex, arrayWords.indexOf(searchIndex))) //traverse entire array
/*
  for (counter = 0; counter < arrayWords.length; counter++) {
    let tempArray = [];
    let blankSpaceLoc;
  }
  */

//  console.log('array result = ' + consonantStartArray);
//  console.log('array result = ' + vowelStartArray);
//  console.log(translate("pig earth"));
  translate("eat pig earth");
</script>
</body>
</html>
